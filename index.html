<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>

<link rel="stylesheet" href="style.css"/>
    
<!-- Add jQuery--> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    
<!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
crossorigin=""></script>

</head>

<body>  

<div id="mapid"></div>
    
    
<!-- MAP SCRIPT -->
    
<script>
    
    var communities = $.ajax({
    url: "https://github.com/mg-ostrander/Leaflet-Testing/blob/master/Census_by_Community_2018.geojson",
    dataType: "json",
    success: alert("Loaded data successfully"),
    error: alert("Error")
        /*
        function (xhr) {
            console.log(xhr.statusText)
          }
          */
    })
    
    
    $.when(communities).done(function() {
        var mymap = L.map('mapid').setView([51.025, -114.07], 11);

        // Calgary coordinates: [51.025, -114.07], 11
        //[37.857507, -85.632935], 7

        var basemap = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox.streets'
        }).addTo(mymap);

        // Add GeoJSON data
        var kyCounties = L.geoJSON(communities.responseJSON).addTo(mymap);
        
    });
    
    
    /*
    var myStyle = {
    "color": "#ff7800",
    "weight": 5,
    "opacity": 0.65
};
    */
    
    // Add GeoJSON layer
    /*
    var communities = new L.geoJSON({style: myStyle});
    communities.addTo(map);
    
      */

    
    
</script>
    

    
</body>

</html>








<!-- MISC Code



        
    /*        
        function(data) {
        $(data.features).each(function(key, data) {
            communities.addData(data);
        });
    }
        
        
    }).error(function() {
        alert(Error);
    });    
    */


-->